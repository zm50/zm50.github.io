# GO语言篇之Slice

@[toc]

## 前言
Go语言中，Slice（切片）是一种动态灵活的数据结构

## 创建方式
1. make()函数创建
```go
slice := make([]int, 5) // 创建一个初始长度为5的整数切片
```

2. 直接创建
```go
slice := []int{1, 2, 3} // 使用字面量创建一个整数切片
```

## 操作方法
1. 获取切片的长度：
```go
length := len(slice)
```

2. 获取切片的容量
```go
capacity := cap(slice)
```

3. 切片截取
```go
subSlice := slice[1:3] // 从索引1开始截取到索引3（不包含）
```

4. 向切片末尾追加元素：
```go
slice = append(slice, 6) // 追加6到切片末尾
```

5. 复制切片
```go
copySlice := make([]int, len(slice))
copy(copySlice, slice) // 将slice复制到copySlice
```
6. 遍历切片：
```go
for _, value := range slice {
    println(value)
}
```


## 实现原理
1. 组成：Slice是由指向底层数组的指针、长度和容量三个部分组成，切片的特性使得它非常灵活，并且可以节省内存
2. 扩容：Go语言会根据切片的长度和容量重新分配一个更大容量的内存（新数组的容量大小根据旧容量大小计算得来），并将原始元素复制到新的内存空间中，然后更新切片的指针、长度和容量

## 切片与数组
1. 长度的不同：数组的长度在定义时确定了，不能改变，而切片的长度是可变的，可以根据需要动态改变
2. 内存的分配方式：数组的内存分配是静态的，定义时就会分配固定大小的内存，而切片的内存分配是动态的，通过make函数或者字面量创建时，会根据需要动态分配内存
3. 传递方式不同：数组在函数间传递时是值拷贝，传递的是数组的副本，而切片在函数间传递时是引用传递，传递的是切片本身，不会复制底层数组。
4. 初始化方式的不同：数组可以使用数组字面量或者依次赋值的方式进行初始化，而切片只能通过数组、其他切片或者make函数进行初始化
5. 使用方式的不同：数组的大小是固定的，一般用于存储一组固定长度的数据；而切片可以根据需要动态地添加、删除和修改元素，适用于处理可变长度的数据集

## 注意事项
因为切片是引用类型，在函数之间传递切片时不会复制底层数组，修改切片会影响到原始数组和其他引用该数组的切片